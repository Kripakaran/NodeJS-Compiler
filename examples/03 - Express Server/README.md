
## About the example

This example illustrates how to use v8-compiler in a Express + Pug project.

It makes use of Webpack to generate a single file that is compiled with v8-compiler and also shows how to use NODE_PATH
to allow v8-compiler to use the modules in "node_modules".

The source code is basically what gets generated by express-generator with small modifications to support Webpack.


## How to run it

First, generate the Webpack bundle:

```
$ npm install
$ node webpack-build.js
```

This will output the JavaScript code to compile to `build/bundle.js` and other non-JavaScript resources.

Once all the source code is in the same file, compile and run it with v8-compiler:

```
$ v8-compiler compile --in build/bundle.js --out build/express-example.jsc
$ NODE_PATH=`pwd`/node_modules:$NODE_PATH v8-compiler run build/express-example.jsc
```

And check the result at http://127.0.0.1:8888/.

Please note that setting NODE_PATH is required in order to allow the compiled code to use modules installed via npm.


## How can I distribute this server?

In order to run this example, the only required files are:

```
 - node_modules
 - build
   |- express-example.jsc
   |- style.css
   |- c20330767b156e5d4ffce152a8f828f2.png
```

If you want to quickly test how it works, copy and paste those files to other directory and run it by:

```
$ NODE_PATH=`pwd`/node_modules:$NODE_PATH v8-compiler run build/express-example.jsc
```

Your server will run without needing the source code :D
